require 'pp'
class Morse

  def decode_morse(text)
    morse_hash = {
        "a" => ".-",
        "b" => "-...",
        "c" => "-.-.",
        "d" => "-..",
        "e" => ".",
        "f" => "..-.",
        "g" => "--.",
        "h" => "....",
        "i" => "..",
        "j" => ".---",
        "k" => "-.-",
        "l" => ".-..",
        "m" => "--",
        "n" => "-.",
        "o" => "---",
        "p" => ".--.",
        "q" => "--.-",
        "r" => ".-.",
        "s" => "...",
        "t" => "-",
        "u" => "..-",
        "v" => "...-",
        "w" => ".--",
        "x" => "-..-",
        "y" => "-.--",
        "z" => "--..",
        " " => " ",
        "1" => ".----",
        "2" => "..---",
        "3" => "...--",
        "4" => "....-",
        "5" => ".....",
        "6" => "-....",
        "7" => "--...",
        "8" => "---..",
        "9" => "----.",
        "0" => "-----"
    }

    morseCode = ".... . -.--   .--- ..- -.. ."

    arr = morseCode.strip.scan(/[.-]+|\s{3}/)

    arr2 = arr.map {|x| morse_hash.key(x)}.map {|x| x.nil? ? " " : x}.join(" ").gsub(/\s+/) {|sep| sep.length >= 3 ? " " : ""}.upcase


  end
end

morse = Morse.new
pp morse.decode_morse(".... . -.--   .--- ..- -.. .")
